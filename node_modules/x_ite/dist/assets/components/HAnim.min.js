/* X_ITE v8.4.3 */(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Components");var n=t.n(e);const i=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Fields");var o=t.n(i);const s=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Base/X3DFieldDefinition");var r=t.n(s);const u=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Base/FieldDefinitionArray");var a=t.n(u);const d=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Components/Rendering/X3DGeometricPropertyNode");var p=t.n(d);const l=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Base/X3DConstants");var w=t.n(l);const c=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Namespace");var m=t.n(c);function h(t){p().call(this,t),this.addType(w().HAnimDisplacer),this._displacements.setUnit("length")}h.prototype=Object.assign(Object.create(p().prototype),{constructor:h,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"coordIndex",new(o().MFInt32)),new(r())(w().inputOutput,"weight",new(o().SFFloat)),new(r())(w().inputOutput,"displacements",new(o().MFVec3f))]),getTypeName:function(){return"HAnimDisplacer"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"displacers"}});const _=h;m().set("x_ite/Components/HAnim/HAnimDisplacer",_);const f=_,N=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Components/Core/X3DChildNode");var O=t.n(N);const F=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Components/Grouping/Group");var S=t.n(F);const g=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Components/Grouping/Transform");var b=t.n(g);const y=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Components/Grouping/X3DBoundedObject");var C=t.n(y);const x=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Rendering/TraverseType");var M=t.n(x);const I=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Base/X3DCast");var k=t.n(I);const v=window[Symbol.for("X_ITE.X3D-8.4.3")].require("standard/Math/Numbers/Matrix4");var D=t.n(v);const A=window[Symbol.for("X_ITE.X3D-8.4.3")].require("standard/Math/Numbers/Vector3");var X=t.n(A);function H(t){O().call(this,t),C().call(this,t),this.addType(w().HAnimHumanoid),this._translation.setUnit("length"),this._center.setUnit("length"),this._bboxSize.setUnit("length"),this._bboxCenter.setUnit("length"),this.viewpointsNode=new(S())(t),this.skeletonNode=new(S())(t),this.skinNode=new(S())(t),this.transformNode=new(b())(t),this.jointNodes=[],this.skinNormalNode=null,this.skinCoordNode=null,this.restNormalNode=null,this.restCoordNode=null}H.prototype=Object.assign(Object.create(O().prototype),C().prototype,{constructor:H,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"version",new(o().SFString)),new(r())(w().inputOutput,"info",new(o().MFString)),new(r())(w().inputOutput,"translation",new(o().SFVec3f)),new(r())(w().inputOutput,"rotation",new(o().SFRotation)),new(r())(w().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(w().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"center",new(o().SFVec3f)),new(r())(w().inputOutput,"jointBindingPositions",new(o().MFVec3f)),new(r())(w().inputOutput,"jointBindingRotations",new(o().MFRotation)),new(r())(w().inputOutput,"jointBindingScales",new(o().MFVec3f)),new(r())(w().inputOutput,"motionsEnabled",new(o().MFBool)),new(r())(w().inputOutput,"loa",new(o().SFInt32)(-1)),new(r())(w().inputOutput,"skeletalConfiguration",new(o().SFString)("BASIC")),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOutput,"viewpoints",new(o().MFNode)),new(r())(w().inputOutput,"sites",new(o().MFNode)),new(r())(w().inputOutput,"joints",new(o().MFNode)),new(r())(w().inputOutput,"segments",new(o().MFNode)),new(r())(w().inputOutput,"motions",new(o().MFNode)),new(r())(w().inputOutput,"skeleton",new(o().MFNode)),new(r())(w().inputOutput,"skinBindingNormal",new(o().SFNode)),new(r())(w().inputOutput,"skinBindingCoord",new(o().SFNode)),new(r())(w().inputOutput,"skinNormal",new(o().SFNode)),new(r())(w().inputOutput,"skinCoord",new(o().SFNode)),new(r())(w().inputOutput,"skin",new(o().MFNode))]),getTypeName:function(){return"HAnimHumanoid"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},initialize:function(){O().prototype.initialize.call(this),C().prototype.initialize.call(this),this.viewpointsNode.setAllowedTypes(w().HAnimSite),this.skeletonNode.setAllowedTypes(w().HAnimJoint,w().HAnimSite),this._viewpoints.addFieldInterest(this.viewpointsNode._children),this._skeleton.addFieldInterest(this.skeletonNode._children),this._skin.addFieldInterest(this.skinNode._children),this.viewpointsNode._children=this._viewpoints,this.skeletonNode._children=this._skeleton,this.skinNode._children=this._skin,this.viewpointsNode.setPrivate(!0),this.skeletonNode.setPrivate(!0),this.skinNode.setPrivate(!0),this._translation.addFieldInterest(this.transformNode._translation),this._rotation.addFieldInterest(this.transformNode._rotation),this._scale.addFieldInterest(this.transformNode._scale),this._scaleOrientation.addFieldInterest(this.transformNode._scaleOrientation),this._center.addFieldInterest(this.transformNode._center),this._visible.addFieldInterest(this.transformNode._visible),this._bboxDisplay.addFieldInterest(this.transformNode._bboxDisplay),this._bboxSize.addFieldInterest(this.transformNode._bboxSize),this._bboxCenter.addFieldInterest(this.transformNode._bboxCenter),this.transformNode._translation=this._translation,this.transformNode._rotation=this._rotation,this.transformNode._scale=this._scale,this.transformNode._scaleOrientation=this._scaleOrientation,this.transformNode._center=this._center,this.transformNode._visible=this._visible,this.transformNode._bboxDisplay=this._bboxDisplay,this.transformNode._bboxSize=this._bboxSize,this.transformNode._bboxCenter=this._bboxCenter,this.transformNode._children=[this.viewpointsNode,this.skeletonNode,this.skinNode],this.transformNode._isCameraObject.addFieldInterest(this._isCameraObject),this.transformNode._isPickableObject.addFieldInterest(this._isPickableObject),this.viewpointsNode.setup(),this.skeletonNode.setup(),this.skinNode.setup(),this.transformNode.setup(),this.setCameraObject(this.transformNode.getCameraObject()),this.setPickableObject(this.transformNode.getPickableObject()),this._joints.addInterest("set_joints__",this),this._skinNormal.addInterest("set_skinNormal__",this),this._skinCoord.addInterest("set_skinCoord__",this),this.set_joints__(),this.set_skinNormal__(),this.set_skinCoord__()},getBBox:function(t,e){return this.transformNode.getBBox(t,e)},set_joints__:function(){const t=this.jointNodes;t.length=0;for(const e of this._joints){const n=k()(w().HAnimJoint,e);n&&t.push(n)}},set_skinNormal__:function(){this.restNormalNode=null,this.skinNormalNode=k()(w().X3DNormalNode,this._skinNormal),this.skinNormalNode&&(this.restNormalNode=this.skinNormalNode.copy())},set_skinCoord__:function(){this.restCoordNode=null,this.skinCoordNode=k()(w().X3DCoordinateNode,this._skinCoord),this.skinCoordNode&&(this.restCoordNode=this.skinCoordNode.copy())},traverse:function(t,e){e.getJoints().length=0,this.transformNode.traverse(t,e),this.isLive().getValue()&&this.skinning(t,e)},skinning:function(){const t=new(D()),e=new(X())(0,0,0),n=new(X())(0,0,0),i=new(X())(0,0,0),o=new(X())(0,0,0);return function(s,r){if(s!==M().CAMERA)return;if(!this.skinCoordNode)return;const u=this.jointNodes.length?this.jointNodes:r.getJoints(),a=this.skinNormalNode,d=this.skinCoordNode,p=this.restNormalNode,l=this.restCoordNode;a&&a._vector.assign(p._vector),d._point.assign(l._point),t.assign(this.transformNode.getMatrix()).multRight(r.getModelViewMatrix().get()).inverse();for(const s of u){const r=s._skinCoordIndex.length,u=s.getModelMatrix().multRight(t),w=s.getDisplacers();for(const t of w){const e=t._coordIndex.getValue(),n=t._coordIndex.length,s=t._weight.getValue(),r=t._displacements.getValue(),a=t._displacements.length;for(let t=0;t<n;++t){const n=3*t,p=e[t],l=t<a?o.set(r[n],r[n+1],r[n+2]):o.assign(X().Zero);d.get1Point(p,i),u.multDirMatrix(l).multiply(s).add(i),d.set1Point(p,l)}}const c=a?u.submatrix.transpose().inverse():null,m=s._skinCoordIndex.getValue(),h=s._skinCoordWeight.getValue(),_=s._skinCoordWeight.length;for(let t=0;t<r;++t){const s=m[t],r=t<_?h[t]:1;a&&(n.assign(p.get1Vector(s,e)),a.get1Vector(s,i),c.multVecMatrix(e).subtract(n).multiply(r).add(i),a.set1Vector(s,e)),n.assign(l.get1Point(s,o)),d.get1Point(s,i),u.multVecMatrix(o).subtract(n).multiply(r).add(i),d.set1Point(s,o)}}}}(),dispose:function(){C().prototype.dispose.call(this),O().prototype.dispose.call(this)}});const T=H;m().set("x_ite/Components/HAnim/HAnimHumanoid",T);const j=T,V=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Components/Grouping/X3DTransformNode");var B=t.n(V);function E(t){B().call(this,t),this.addType(w().HAnimJoint),this.setAllowedTypes(w().HAnimJoint,w().HAnimSegment,w().HAnimSite),this.displacerNodes=[],this.modelMatrix=new(D())}E.prototype=Object.assign(Object.create(B().prototype),{constructor:E,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"translation",new(o().SFVec3f)),new(r())(w().inputOutput,"rotation",new(o().SFRotation)),new(r())(w().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(w().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"center",new(o().SFVec3f)),new(r())(w().inputOutput,"llimit",new(o().MFFloat)),new(r())(w().inputOutput,"ulimit",new(o().MFFloat)),new(r())(w().inputOutput,"limitOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"stiffness",new(o().MFFloat)(0,0,0)),new(r())(w().inputOutput,"skinCoordIndex",new(o().MFInt32)),new(r())(w().inputOutput,"skinCoordWeight",new(o().MFFloat)),new(r())(w().inputOutput,"displacers",new(o().MFNode)),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOnly,"addChildren",new(o().MFNode)),new(r())(w().inputOnly,"removeChildren",new(o().MFNode)),new(r())(w().inputOutput,"children",new(o().MFNode))]),getTypeName:function(){return"HAnimJoint"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},initialize:function(){B().prototype.initialize.call(this),this._displacers.addInterest("set_displacers__",this),this.set_displacers__()},setCameraObject:function(t){B().prototype.setCameraObject.call(this,t||!!this._skinCoordIndex.length)},getModelMatrix:function(){return this.modelMatrix},getDisplacers:function(){return this.displacerNodes},set_displacers__:function(){const t=this.displacerNodes;t.length=0;for(const e of this._displacers){const n=k()(w().HAnimDisplacer,e);n&&t.push(n)}},traverse:function(t,e){t===M().CAMERA&&this._skinCoordIndex.length&&(e.getJoints().push(this),this.modelMatrix.assign(this.getMatrix()).multRight(e.getModelViewMatrix().get())),B().prototype.traverse.call(this,t,e)},groupTraverse:function(t,e){t===M().CAMERA&&this._skinCoordIndex.length&&(e.getJoints().push(this),this.modelMatrix.assign(e.getModelViewMatrix().get())),B().prototype.groupTraverse.call(this,t,e)}});const z=E;m().set("x_ite/Components/HAnim/HAnimJoint",z);const q=z;function R(t){O().call(this,t),this.addType(w().HAnimMotion)}R.prototype=Object.assign(Object.create(O().prototype),{constructor:R,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"enabled",new(o().SFBool)(!0)),new(r())(w().inputOnly,"next",new(o().SFBool)),new(r())(w().inputOnly,"previous",new(o().SFBool)),new(r())(w().inputOutput,"frameDuration",new(o().SFTime)(.1)),new(r())(w().inputOutput,"frameIncrement",new(o().SFInt32)(1)),new(r())(w().inputOutput,"frameIndex",new(o().SFInt32)(0)),new(r())(w().inputOutput,"loop",new(o().SFBool)(!1)),new(r())(w().inputOutput,"channels",new(o().SFString)),new(r())(w().inputOutput,"channelsEnabled",new(o().MFBool)),new(r())(w().inputOutput,"joints",new(o().MFString)),new(r())(w().inputOutput,"loa",new(o().SFInt32)(-1)),new(r())(w().inputOutput,"startFrame",new(o().SFInt32)),new(r())(w().inputOutput,"endFrame",new(o().SFInt32)),new(r())(w().inputOutput,"values",new(o().MFFloat)),new(r())(w().outputOnly,"cycleTime",new(o().SFTime)),new(r())(w().outputOnly,"elapsedTime",new(o().SFTime)),new(r())(w().outputOnly,"frameCount",new(o().SFInt32))]),getTypeName:function(){return"HAnimMotion"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},initialize:function(){O().prototype.initialize.call(this)}});const P=R;m().set("x_ite/Components/HAnim/HAnimMotion",P);const J=P,G=window[Symbol.for("X_ITE.X3D-8.4.3")].require("x_ite/Components/Grouping/X3DGroupingNode");var U=t.n(G);function W(t){U().call(this,t),this.addType(w().HAnimSegment),this._mass.setUnit("mass")}W.prototype=Object.assign(Object.create(U().prototype),{constructor:W,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"mass",new(o().SFFloat)),new(r())(w().inputOutput,"centerOfMass",new(o().SFVec3f)),new(r())(w().inputOutput,"momentsOfInertia",new(o().MFFloat)(0,0,0,0,0,0,0,0,0)),new(r())(w().inputOutput,"displacers",new(o().MFNode)),new(r())(w().inputOutput,"coord",new(o().SFNode)),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOnly,"addChildren",new(o().MFNode)),new(r())(w().inputOnly,"removeChildren",new(o().MFNode)),new(r())(w().inputOutput,"children",new(o().MFNode))]),getTypeName:function(){return"HAnimSegment"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"}});const L=W;m().set("x_ite/Components/HAnim/HAnimSegment",L);const Z=L;function K(t){B().call(this,t),this.addType(w().HAnimSite)}K.prototype=Object.assign(Object.create(B().prototype),{constructor:K,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"translation",new(o().SFVec3f)),new(r())(w().inputOutput,"rotation",new(o().SFRotation)),new(r())(w().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(w().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"center",new(o().SFVec3f)),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOnly,"addChildren",new(o().MFNode)),new(r())(w().inputOnly,"removeChildren",new(o().MFNode)),new(r())(w().inputOutput,"children",new(o().MFNode))]),getTypeName:function(){return"HAnimSite"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"}});const Q=K;m().set("x_ite/Components/HAnim/HAnimSite",Q);const Y=Q;n().addComponent({name:"HAnim",types:{HAnimDisplacer:f,HAnimHumanoid:j,HAnimJoint:q,HAnimMotion:J,HAnimSegment:Z,HAnimSite:Y},abstractTypes:{}});const $=void 0;m().set("assets/components/HAnim",$)})();